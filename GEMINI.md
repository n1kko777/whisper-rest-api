# Whisper REST API

Локальный REST API сервис для транскрибации аудио.

## Технологический стек

*   **Бэкенд:** Python / FastAPI
*   **Распознавание речи:** OpenAI Whisper
*   **Очередь задач:** Celery + Redis
*   **База данных:** SQLite
*   **Аутентификация:** JWT
*   **Фронтенд:** Next.js / React / TypeScript / shadcn / Tailwind CSS

## План разработки

### Бэкенд

1.  **Настройка проекта:**
    *   Создать структуру папок.
    *   Настроить `requirements.txt`.
    *   Создать виртуальное окружение.
2.  **Модели данных (SQLAlchemy):**
    *   `User`: для хранения данных пользователей (id, email, hashed_password).
    *   `Task`: для хранения информации о задачах транскрибации (id, user_id, status, result).
3.  **Аутентификация:**
    *   Эндпоинт `/register` для создания нового пользователя.
    *   Эндпоинт `/token` для получения JWT токена (логин).
    *   Механизм проверки токена для защищенных эндпоинтов.
4.  **Очередь задач (Celery):**
    *   Настроить Celery для работы с FastAPI.
    *   Создать задачу (`worker`) для транскрибации аудиофайла с помощью Whisper.
5.  **API Эндпоинты:**
    *   `POST /transcribe`:
        *   Принимает аудиофайл и язык.
        *   Запускает задачу транскрибации в Celery.
        *   Возвращает `task_id`.
    *   `GET /status/{task_id}`:
        *   Проверяет статус задачи по `task_id`.
        *   Возвращает статус (`pending`, `success`, `failure`) и результат (если готов).
6.  **Файлы и конфигурация:**
    *   `.env` для хранения секретных ключей.
    *   `Dockerfile` и `docker-compose.yml` для упрощения развертывания.
    *   `README.md` с инструкциями по установке и запуску.

### Фронтенд

1.  **Настройка проекта:**
    *   Создать новый Next.js проект в папке `frontend`.
    *   Настроить TypeScript, Tailwind CSS и shadcn.
2.  **Структура страниц:**
    *   **Public (публичные страницы):**
        *   `layout.tsx`: Общий макет для публичных страниц.
        *   `/`: Приветственная страница с ссылками на вход и регистрацию.
        *   `/login`: Страница входа.
        *   `/register`: Страница регистрации.
    *   **Private (приватные страницы):**
        *   `layout.tsx`: Общий макет для приватных страниц с навигационной панелью.
        *   `/dashboard`: Основная страница после входа.
3.  **Функционал дашборда:**
    *   **Транскрибация:**
        *   Возможность загрузки аудиофайла.
        *   Возможность записи голоса в браузере.
    *   **История задач:**
        *   Таблица с историей задач транскрибации, их статусами и результатами.
4.  **Интеграция с бэкендом:**
    *   Реализовать API-запросы для регистрации, входа, загрузки файлов и получения статуса задач.
5.  **Docker-конфигурация:**
    *   Создать `Dockerfile` для фронтенда.
    *   Добавить сервис `frontend` в `docker-compose.yml`.
